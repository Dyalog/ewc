 z←ref CompareScreenshots file;bool;fileStreamDifferenceMask;maskImage;encodedData
 ⍝ relies on #.S being intialised via Selenium (actually this should become part of Selenium, too!)
⍝ z=0 Identical
⍝ z=1 different

 bool←#.S.Codeuctivity.ImageSharpCompare.ImageSharpCompare.ImagesAreEqual ref file #.S.Codeuctivity.ImageSharpCompare.ResizeOption.DontResize

 :If bool
     z←0
 :Else
     z←1
     fileStreamDifferenceMask←#.S.System.IO.File.Create⊂∊(2↑⎕NPARTS file),'-diff.png'
     :Trap 90  ⍝ catch execptions
         maskImage←#.S.Codeuctivity.ImageSharpCompare.ImageSharpCompare.CalcDiffMaskImage file ref #.S.Codeuctivity.ImageSharpCompare.ResizeOption.Resize 0
     :Else
         z←1
         →0
     :EndTrap
     maskImage.Save fileStreamDifferenceMask(⎕NEW #.S.SixLabors.ImageSharp.Formats.Png.PngEncoder)
     fileStreamDifferenceMask.Close
 :EndIf
